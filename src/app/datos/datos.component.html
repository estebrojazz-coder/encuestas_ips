<div class="survey-container">
  <div class="background-overlay"></div>

  <mat-card class="survey-card">
    <!-- Encabezado -->
    <div class="header-container">
      <img src="../../assets/logo.png" alt="Logo IPS" class="logo" />
      <mat-card-title>2025 - ENCUESTA DE SATISFACCIÓN</mat-card-title>
      <mat-card-subtitle>Rehabilitdemos Bucaramanga - Sede Nacional</mat-card-subtitle>
    </div>

    <form [formGroup]="datosForm" (ngSubmit)="onSubmit()">

      <!-- ================== DATOS BÁSICOS ================== -->

      <mat-form-field appearance="outline">
        <mat-label>Sede de la IPS</mat-label>
        <mat-select formControlName="sede" required>
          <mat-option value="bucaramanga">Bucaramanga - Sede Nacional</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Nombres y Apellidos</mat-label>
        <input matInput formControlName="nombres" required />
      </mat-form-field>

      <div class="documento-container">
        <mat-form-field appearance="outline">
          <mat-label>Tipo de Documento</mat-label>
          <mat-select formControlName="tipoDocumento" required>
            <mat-option value="cc">Cédula de Ciudadanía</mat-option>
            <mat-option value="pep">Permiso Especial de Permanencia</mat-option>
            <mat-option value="ce">Cédula de Extranjería</mat-option>
            <mat-option value="rc">Registro Civil</mat-option>
            <mat-option value="ti">Tarjeta de Identidad</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>N° Documento</mat-label>
          <input matInput formControlName="numeroDocumento" required />
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline">
        <mat-label>Tipo de Usuario</mat-label>
        <mat-select formControlName="tipoUsuario" required>
          <mat-option value="contributivo">Contributivo</mat-option>
          <mat-option value="subsidiado">Subsidiado</mat-option>
          <mat-option value="particular">Particular</mat-option>
          <mat-option value="aseguradora">Aseguradora</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Teléfono de contacto</mat-label>
        <input matInput formControlName="telefono" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Tipo de Servicio</mat-label>
        <mat-select formControlName="tipoServicio" required>
          <mat-option value="enfermeria">Enfermería</mat-option>
          <mat-option value="nutricion">Nutrición</mat-option>
          <mat-option value="medicina">Medicina General</mat-option>
          <mat-option value="fisica">Terapia Física</mat-option>
          <mat-option value="psicologia">Psicología</mat-option>
          <mat-option value="ocupacional">Terapia Ocupacional</mat-option>
          <mat-option value="lenguaje">Terapia de Lenguaje</mat-option>
          <mat-option value="respiratoria">Terapia Respiratoria</mat-option>
          <mat-option value="cuidador">Cuidador</mat-option>
          <mat-option value="recepcion">Recepción</mat-option>
          <mat-option value="otro">Otro</mat-option>
        </mat-select>
      </mat-form-field>
      <!-- ================== PREGUNTAS ================== -->

      <!-- ⭐ Calificación -->
      <div class="calificacion-container">
        <div class="calificacion-titulo">Califica tu experiencia</div>

        <div class="star-rating">
          <mat-icon *ngFor="let star of stars; let i = index" [ngClass]="{
        'selected': i < rating,
        'hovered': i < hoverRating
      }" (mouseenter)="setHover(i + 1)" (mouseleave)="clearHover()" (click)="setRating(i + 1)">
            star
          </mat-icon>
        </div>

        <div class="calificacion-valor">
          Seleccionaste:
          <span class="calificacion-numero">{{ rating }}</span>
          estrellas
        </div>
      </div>
      <!-- Botón siguiente -->
      <div class="button-container">
        <button mat-raised-button color="primary" (click)="onSubmit()">
          Siguiente
        </button>
      </div>
    </form>
  </mat-card>
</div>